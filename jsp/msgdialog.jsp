<%@ page info="SCCS id: $Id$" %><%@ page contentType="text/html; charset=windows-874"%><jsp:useBean id="fsAccessor" scope="session" class="com.fs.bean.util.AccessorBean"/><HTML><HEAD><TITLE>Message Dialog</TITLE></HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-874"><link href="../jquery/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" /><link href="../jquery/themes/base/jquery-ui-1.8.2.custom.css" rel="stylesheet" type="text/css" /><link href="../css/tfsstyle.css" rel="stylesheet" type="text/css" /><style type="text/css">	body { margin: 0px; padding-right: 20px; overflow-x: hidden; overflow-y: auto; }	.buttonlongblank { width: 100px; }</style><%=com.fs.bean.util.PageUtility.createLinkStyles(fsAccessor)%><script language='JavaScript' src="../jquery/jquery-1.7.2.js"></script><script language='JavaScript' src='../jquery/external/jquery.bgiframe-2.1.1.js'></script><script language='JavaScript' src="../jquery/ui/jquery.ui.core.js"></script><script language='JavaScript' src='../jquery/ui/jquery.ui.widget.js'></script><script language='JavaScript' src='../jquery/ui/jquery.ui.mouse.js'></script><script language='JavaScript' src='../jquery/ui/jquery.ui.button.js'></script><script language='JavaScript' src='../jquery/ui/jquery.ui.draggable.js'></script><script language='JavaScript' src='../jquery/ui/jquery.ui.position.js'></script><script language='JavaScript' src='../jquery/ui/jquery.ui.resizable.js'></script><script type="text/javascript">			//initialize return value in case of close system menu press	window.returnValue = "cancel";	var nativeLang = "TH";	var msg = null;	$(function() {		$("#b_detail").button();		$("#b_senderr").button();		$("#b_send").button();		initialScreen();		if($.browser.msie) { $("#horizcolumn").width("100%"); }	});	function hideDetails() {		if(d_detaildiv.style.display == "") {			showDetail();		}		if(d_senderrdiv.style.display == "") {			sendError();		}	}	function initialScreen() {		window.returnValue = "cancel";		try { msg = window.parent.getMessageDialogArguments(); } catch(ex) { 			try{ msg = window.opener.getMessageDialogArguments(); } catch(es) { 				try { msg = window.dialogArguments; }catch(ea) { }			}		}			if(msg) {			//msg.lang = "TH";			$("#d_dialogbody").text(msg.msg);			if(msg.type) {				var str = "Message";				if(msg.type.toLowerCase() == "error"){					 str = "Error";					 img_show.src = "../images/ErrorIcon.png";					$("#controlbuttons").show();				} else if(msg.type.toLowerCase() == "warning"){					str = "Warning";					img_show.src = "../images/WarningIcon.png";					$("#controlbuttons").show();				} else if(msg.type.toLowerCase() == "information"){					str = "Information";					img_show.src = "../images/InformationIcon.png";					$("#controlbuttons").hide();				} else if(msg.type.toLowerCase() == "question"){					str = "Quest";					img_show.src = "../images/QuestionIcon.png";					$("#controlbuttons").show();				} else if(msg.type.toLowerCase() == "caution"){					str = "Caution";					img_show.src = "../images/CautionIcon.png";					$("#controlbuttons").show();				}				if(msg.errCode) str += " - "+msg.errCode;				window.document.title = str;			}			if(!msg.errCode) {				$("#d_dialogbody").text(msg.programId);			}			if(msg.detail) {				$("#d_detailbody").val(msg.detail);			}			if(msg.lang && msg.lang==nativeLang) {				b_detail.value = "รายละเอียด >>";				b_senderr.value = "ส่งข้อผิดพลาด";				itbox.innerText = "แผนกไอที";				combox.innerText = "บริษัทคู่ค้า";				b_send.value = "ส่ง";				detlabel.innerText = "รายละเอียด";				mailto.innerText = "จดหมายถึง";			}				}		d_detail2.value = "";		hideDetails();	}	function padingDialog(paded) {		var h = $(window).height();		var high = h + paded;		$(window).height(high);		try { window.parent.stretchMessageDialog(paded); } catch(ex) { 			try{ window.opener.stretchMessageDialog(paded); } catch(es) { }		}		}	function showDetail() {		if(!(d_detaildiv.style.display == "")) {			d_detaildiv.style.display = "";			b_detail.value = "Detail <<";			if(msg && msg.lang==nativeLang) b_detail.value="รายละเอียด <<";			padingDialog(110);		} else {			d_detaildiv.style.display = "none";			b_detail.value = "Detail >>";			if(msg && msg.lang==nativeLang) b_detail.value="รายละเอียด >>";			padingDialog(-110);		}	}	function sendError() {		if(!(d_senderrdiv.style.display == "")) {			d_senderrdiv.style.display = "";			b_senderr.value = "Don't Send";			if(msg && msg.lang==nativeLang) b_senderr.value = "ไม่ส่งข้อผิดพลาด";			padingDialog(170);		} else {			d_senderrdiv.style.display = "none";			b_senderr.value = "Send Error";			if(msg && msg.lang==nativeLang) b_senderr.value = "ส่งข้อผิดพลาด";			padingDialog(-170);		}		}	function sendMail() {		if(msg) {			var it = $("#chBox1").is(":checked");			var freewill = $("#chBox2").is(":checked");			var moreErr = $("#d_detail2").val();			var msgErr = $("#d_dialogbody").text();			var param = "it="+it+"&freewill="+freewill;			param += "&moreErr="+moreErr+"&errCode="+msg.errCode;			param += "&proId="+msg.programId+"&msgErr="+msgErr;			$.ajax({				url: "../jsp/sendmail.jsp",				data: param,				type: "POST",				contentType: "application/x-www-form-urlencoded; charset=UTF-8",				dataType: "html"			});		}		sendError();	}</script><BODY class='fs_stdbody' oncontextmenu="return false;"  onhelp="return false;" bgcolor="pink">
<div id="msgdiv">		<table height="75px" width="100%" border="0px">			<tr>				<td align="center" width="50px"><IMG id="img_show" src='../images/ErrorIcon.png' width="38" height="38" border="0"></td>				<td id="d_dialogbody" style="color:#000000; padding:5px; font: bold 12px sans-serif;">Error Descriptions</td>			</tr>		</table>		<table width="100%" border="0px">			<tr id="controlbuttons">				<td id="b_detailNode" width="50%" align="left" style="padding:2,0,0,5px;">				<INPUT id="b_detail" TYPE="button" value="Detail >>" style="padding: 3px; font: bold 12px sans-serif;" onclick="showDetail()" class="buttonlongblank" /></td>				<td id="b_sendNode" align="right" style="padding: 2,0,0,0px;"><INPUT id="b_senderr" TYPE="button" value="Send Error" style="padding: 3px; font:bold 12px sans-serif;" onclick="sendError()" class="buttonlongblank" /></td>			</tr>		</table>		<div id="d_detaildiv" style="padding: 2,0,0,5px; display:none;"> 			<table width="100%" border="0" cellspacing="0" cellpadding="0" style="padding: 5,0,0,0px;"><tr><td width="50px" style="color: #0066FF; font: bold 12px sans-serif;" nowrap><label id="detlabel">Details</label></td><td id="horizcolumn"><HR/></td></tr><tr><td colspan="2">			<TEXTAREA id="d_detailbody" rows="5" cols="55" readonly="readonly" style="width:440px"></TEXTAREA>			</td></tr></table>		</div>		<div  id="d_senderrdiv" style="padding: 0,0,5,5px; display:none;">			<FIELDSET width="100%">				<LEGEND style="font: bold 12px sans-serif; color:#0066FF;"><span id="mailto">Mail to</span></LEGEND>					<table width="100%">						<tr>							<td id="d_sendIT" align="right" style="padding: 3px; font: bold 12px sans-serif;"><INPUT id="chBox1" TYPE="checkbox"  checked="checked" /><span id="itbox">IT</span></td>							<td id="d_sendFS" align="center" style="padding: 3px; font: bold 12px sans-serif;"><INPUT id="chBox2" TYPE="checkbox" checked="checked" /><span id="combox">Freewill Solutions</span></td>						</tr>						<tr>							<td colspan="2"><TEXTAREA id="d_detail2"  rows="5" cols="50" style="width:420px">Enter More Text</TEXTAREA></td></tr><tr>							<td colspan="2" align="left"><INPUT TYPE="button" id="b_send" value="Send"  style="padding: 3px; font: bold 12px sans-serif; width:80px;"  onclick="sendMail()" class="buttonlongblank" /></td>						</tr>					</table>				</FIELDSET>				</div>	</div></BODY>
</HTML>
